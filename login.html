<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>Login / Register</title>
</head>
<body>

<h2>р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ / р╕кр╕бр╕▒р╕Др╕гр╕кр╕бр╕▓р╕Кр╕┤р╕Б</h2>

<input id="username" placeholder="Username"><br><br>
<input id="password" type="password" placeholder="Password"><br><br>

<button onclick="login()">Login</button>
<button onclick="register()">р╕кр╕бр╕▒р╕Др╕гр╕кр╕бр╕▓р╕Кр╕┤р╕Б</button>

<script>
  // р╕Фр╕╢р╕Зр╕гр╕▓р╕вр╕Кр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Чр╕╡р╣Ир╣Ар╕Др╕вр╕кр╕бр╕▒р╕Др╕гр╣Др╕зр╣Й
  let users = JSON.parse(localStorage.getItem("users")) || [];

  // р╕кр╕бр╕▒р╕Др╕гр╕кр╕бр╕▓р╕Кр╕┤р╕Б
  function register() {
    const user = document.getElementById("username").value;
    const pass = document.getElementById("password").value;

    if (user === "" || pass === "") {
      alert("р╕Бр╕гр╕╕р╕Ур╕▓р╕Бр╕гр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕лр╣Йр╕Др╕гр╕Ъ");
      return;
    }

    // р╣Ар╕Кр╣Зр╕Др╕зр╣Ир╕▓р╕Кр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Лр╣Йр╕│р╣Др╕лр╕б
    const exists = users.find(u => u.username === user);
    if (exists) {
      alert("р╕Кр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Щр╕╡р╣Йр╕бр╕╡р╕нр╕вр╕╣р╣Ир╣Бр╕ер╣Йр╕з");
      return;
    }

    // р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╣Гр╕лр╕бр╣И
    users.push({ username: user, password: pass });
    localStorage.setItem("users", JSON.stringify(users));

    alert("р╕кр╕бр╕▒р╕Др╕гр╕кр╕бр╕▓р╕Кр╕┤р╕Бр╕кр╕│р╣Ар╕гр╣Зр╕И ЁЯОЙ");
  }

  // р╕ер╣Зр╕нр╕Бр╕нр╕┤р╕Щ
  function login() {
    const user = document.getElementById("username").value;
    const pass = document.getElementById("password").value;

    const found = users.find(
      u => u.username === user && u.password === pass
    );

    if (found) {
      localStorage.setItem("login", "yes");
      localStorage.setItem("user", user);
      window.location.href = "index.html";
    } else {
      alert("р╕Кр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕лр╕гр╕╖р╕нр╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щр╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З");
    }
  }
</script>

</body>
</html>
